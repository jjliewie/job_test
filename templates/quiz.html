<!DOCTYPE html>
<html>
    <head>
        <title>Personality Quiz</title>
        <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
        <link rel="stylesheet" href="static/style.css">
    </head>
    <body>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

        <div class="topnav">
            <a href="{{ url_for('index') }}">Home</a>
            <a class="active" href="{{ url_for('quiz') }}">Quiz</a>
        </div>

        
        <h2>PERSONALITY QUIZ</h2>
             
            <!-- <button class = "inner-switch" onclick="dark_mode()">dark mode</button> -->

        <form action ="/submitquiz", method="POST">

            <div id="questions">

                <div class="question active" id="0">
                    
                    <span>are you ready?</span>

                    <br>

                    <label>
                    <input type="radio" name="0" value="yes"> 
                    <span>yes</span>
                    </label>

                    <br>

                </div>

                {% for question in questions_list %}

                <div class="question" id="{{question.q_id}}">
                    
                    <span>{{question.question}}</span>

                    <br>

                    <label>
                    <input type="radio" name="{{question.q_id}}" value="{{question.yes}}"> 
                    <span>{{question.yes}}</span>
                    </label>

                    <label>
                    <input type="radio" name="{{question.q_id}}" value="{{question.no}}"> 
                    <span>{{question.no}}</span>
                    </label>
                    <br>

                </div>

                {% endfor %}

                <div class="question" id ="10">
                    <input type="submit" class = "form-submit-button" name="submitform" value="submit">
                </div>

            </div>

            <button type="button" id="next">Next</button>
            <button type="button" id="previous">Previous</button>
                
            <br>
        </form>

        <script>

            $("#previous").hide();


            $('#next').click(function(){

                var $current = $('.question.active');
                var id = $current.attr('id'); 

                var radios = document.querySelectorAll('input[type="radio"]:checked');
                if(radios.length > parseInt(id)){

                    if(id != "10"){
                        $('.question').removeClass('active');
                        $current.next().addClass('active');
                        $("#previous").show();

                        if(id == "9"){
                            $("#next").hide();
                        }
                    }
                }

            });
            
            $('#previous').click(function(){

                var $current = $('.question.active');
                var id = $current.attr('id'); 

                if(id != "0"){

                    $('.question').removeClass('active');
                    $current.prev().addClass('active');
                    $("#next").show();

                    if(id == "0"){
                        $("#previous").hide();
                    }
                }

            });

        </script>

    </body>
</html>